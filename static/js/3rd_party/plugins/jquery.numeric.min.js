!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){a.fn.numeric=function(b,c){"boolean"==typeof b&&(b={decimal:b,negative:!0,decimalPlaces:-1}),b=b||{},"undefined"==typeof b.negative&&(b.negative=!0);var d=b.decimal===!1?"":b.decimal||".",e=b.altDecimal===!1?"":b.altDecimal||d,f=b.negative===!0?!0:!1,g="undefined"==typeof b.decimalPlaces?-1:b.decimalPlaces;return c="function"==typeof c?c:function(){},this.data("numeric.decimal",d).data("numeric.altDecimal",e).data("numeric.negative",f).data("numeric.callback",c).data("numeric.decimalPlaces",g).keypress(a.fn.numeric.keypress).keyup(a.fn.numeric.keyup).blur(a.fn.numeric.blur)},a.fn.numeric.keypress=function(b){var c=a.data(this,"numeric.decimal"),d=a.data(this,"numeric.negative"),e=a.data(this,"numeric.decimalPlaces"),f=a.data(this,"numeric.altDecimal"),g=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(13==g&&"input"==this.nodeName.toLowerCase())return!0;if(13==g)return!1;if(35==g||36==g||37==g)return!1;var h=!1;if(b.ctrlKey&&97==g||b.ctrlKey&&65==g)return!0;if(b.ctrlKey&&120==g||b.ctrlKey&&88==g)return!0;if(b.ctrlKey&&99==g||b.ctrlKey&&67==g)return!0;if(b.ctrlKey&&122==g||b.ctrlKey&&90==g)return!0;if(b.ctrlKey&&118==g||b.ctrlKey&&86==g||b.shiftKey&&45==g)return!0;if(48>g||g>57){var i=a(this).val();if(0!==a.inArray("-",i.split(""))&&d&&45==g&&(0===i.length||0===parseInt(a.fn.getSelectionStart(this),10)))return!0;c&&g==c.charCodeAt(0)&&-1!=a.inArray(c,i.split(""))&&(h=!1),8!=g&&9!=g&&13!=g&&35!=g&&36!=g&&37!=g&&39!=g&&46!=g?h=!1:"undefined"!=typeof b.charCode&&(b.keyCode==b.which&&0!==b.which?(h=!0,46==b.which&&(h=!1)):0!==b.keyCode&&0===b.charCode&&0===b.which&&(h=!0)),(c&&g==c.charCodeAt(0)||f&&g==f.charCodeAt(0))&&(h=-1==a.inArray(c,i.split(""))?!0:!1)}else if(h=!0,c&&e>0){var j=a.fn.getSelectionStart(this),k=a.fn.getSelectionEnd(this),l=a.inArray(c,a(this).val().split(""));j===k&&l>=0&&j>l&&a(this).val().length>l+e&&(h=!1)}return h},a.fn.numeric.keyup=function(b){var c=a(this).val();if(c&&c.length>0){var d=a.fn.getSelectionStart(this),e=a.fn.getSelectionEnd(this),f=a.data(this,"numeric.decimal"),g=a.data(this,"numeric.negative"),h=a.data(this,"numeric.decimalPlaces"),i=a.data(this,"numeric.altDecimal");if(""!==f&&null!==f){var j=a.inArray(f,c.split(""));0===j&&(this.value="0"+c,d++,e++),1==j&&"-"==c.charAt(0)&&(this.value="-0"+c.substring(1),d++,e++),c=this.value}for(var k=[0,1,2,3,4,5,6,7,8,9,"-",f],l=c.length,m=l-1;m>=0;m--){var n=c.charAt(m);0!==m&&"-"==n?c=c.substring(0,m)+c.substring(m+1):0!==m||g||"-"!=n||(c=c.substring(1));for(var o=!1,p=0;p<k.length;p++)if(n==k[p]){o=!0;break}o||n!=i||(c=c.substring(0,m)+f+c.substring(m+1),o=!0),o&&" "!=n||(c=c.substring(0,m)+c.substring(m+1))}var q=a.inArray(f,c.split(""));if(q>0)for(var r=l-1;r>q;r--){var s=c.charAt(r);s==f&&(c=c.substring(0,r)+c.substring(r+1))}if(f&&h>0){var j=a.inArray(f,c.split(""));j>=0&&(c=c.substring(0,j+h+1),e=Math.min(c.length,e))}this.value=c,a.fn.setSelection(this,[d,e])}},a.fn.numeric.blur=function(){var b=a.data(this,"numeric.decimal"),c=a.data(this,"numeric.callback"),d=a.data(this,"numeric.negative"),e=this.value;if(""!==e){var f=new RegExp("^"+(d?"-?":"")+"\\d+$|^"+(d?"-?":"")+"\\d*"+b+"\\d+$");f.exec(e)||c.apply(this)}},a.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.altDecimal",null).data("numeric.negative",null).data("numeric.callback",null).data("numeric.decimalPlaces",null).unbind("keypress",a.fn.numeric.keypress).unbind("keyup",a.fn.numeric.keyup).unbind("blur",a.fn.numeric.blur)},a.fn.getSelectionStart=function(a){if("number"===a.type)return void 0;if(a.createTextRange&&document.selection){var b=document.selection.createRange().duplicate();return b.moveEnd("character",a.value.length),""==b.text?a.value.length:Math.max(0,a.value.lastIndexOf(b.text))}try{return a.selectionStart}catch(c){return 0}},a.fn.getSelectionEnd=function(a){if("number"===a.type)return void 0;if(a.createTextRange&&document.selection){var b=document.selection.createRange().duplicate();return b.moveStart("character",-a.value.length),b.text.length}return a.selectionEnd},a.fn.setSelection=function(a,b){if("number"==typeof b&&(b=[b,b]),b&&b.constructor==Array&&2==b.length)if("number"===a.type)a.focus();else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveStart("character",b[0]),c.moveEnd("character",b[1]-b[0]),c.select()}else{a.focus();try{a.setSelectionRange&&a.setSelectionRange(b[0],b[1])}catch(d){}}}});